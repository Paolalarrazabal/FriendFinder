<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">




</head>

<body>

    <div class="container">
        <!-- Jumbotron -->
        
        <div class="jumbotron">
            <h1 class="display-4">Hello, world!</h1>
            <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention
                to featured content or information.</p>
            <hr class="my-4">
            <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
            <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
        </div>


        <div class="row">
            <div class="col">
                1 of 3
            </div>
            <div class="col-6">
                <form>
                    <!-- First name and photo URL input-->

                    <div class="form-row">
                        <div class="col">
                            <input id="first_name" type="text" class="form-control" placeholder="First name">
                        </div>
                        <div class="col">
                            <input id="photo_url" type="text" class="form-control" placeholder="Photo Link">
                        </div>
                    </div>


                    <!-- Survey Questions -->


                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You consider yourself an easygoing person.</label>
                        <select class="form-control" id="q1">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You prefer staying in over the weekend versus going
                            out.</label>
                        <select class="form-control" id="q2">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Cats are superior to dogs.</label>
                        <select class="form-control" id="q3">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Dogs make better companions than cats.</label>
                        <select class="form-control" id="q4">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>


                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You are competitive by nature.</label>
                        <select class="form-control" id="q5">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You tend to get bored easily</label>
                        <select class="form-control" id="q6">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You hate parties.</label>
                        <select class="form-control" id="q7">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You enjoy debating a variety of topics.</label>
                        <select class="form-control" id="q8">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You motto is "better late than never".</label>
                        <select class="form-control" id="q9">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">You hate answering questions about yourself.</label>
                        <select class="form-control" id="q10">
                            <option value=""></option>
                            <option value="1">1 (strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                </form>

                <button id="submitButton" type="button" class="btn btn-outline-secondary">Submit</button>
            </div>
            <div class="col">
                3 of 3
            </div>
        </div>

        <div id="resultsModal" class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="matchName"></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <img id="matchPhoto" src="#">
                        <p>Modal body text goes here.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>

    </div>





    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>


    <script type="text/javascript">

        $(document).ready(function () {
            $("#submitButton").on("click", function () {
                event.preventDefault();

                console.log("this works");
               

                 
    
                newUser = {
                    name: $('#first_name').val().trim(),
                    photo: $('#photo_url').val().trim(),
                    scores: [
                        $('#q1').val(),
                        $('#q2').val(),
                        $('#q3').val(),
                        $('#q4').val(),
                        $('#q5').val(),
                        $('#q6').val(),
                        $('#q7').val(),
                        $('#q8').val(),
                        $('#q9').val(),
                        $('#q10').val(),
                    ]
        
                };

                console.log(newUser.name);

                let currentURL = window.location.origin; 
                $.post(currentURL + "/api/friends", newUser, function(data) {
                $('matchName').text(data.name); 
                $('matchPhoto').attr("src",data.photo); 
                $('#resultsModal').modal('toggle');
                });


            });
        });


    </script>

</body>

</html>